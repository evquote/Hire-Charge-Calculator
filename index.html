<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Royal Birmingham Conservatoire — Multi-Venue Quote Calculator</title>
  <style>
    :root {
      --brand: #002e5b;
      --accent: #004b8d;
      --bg: #f8f9fa;
      --card: #ffffff;
      --muted: #6b6b6b;
    }
    body {
      font-family: "Segoe UI", Roboto, Arial, sans-serif;
      background: var(--bg);
      color: #222;
      margin: 0;
      padding: 20px;
      display: flex;
      justify-content: center;
    }
    .wrapper {
      max-width: 1000px;
      width: 100%;
    }
    header {
      margin-bottom: 24px;
    }
    h1 {
      font-size: 22px;
      color: var(--brand);
      margin-bottom: 6px;
    }
    .muted {
      color: var(--muted);
      font-size: 14px;
    }
    .card {
      background: var(--card);
      padding: 20px;
      border-radius: 14px;
      box-shadow: 0 4px 12px rgba(0, 46, 91, 0.1);
      margin-bottom: 16px;
    }
    .grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
    }
    label {
      display: block;
      font-size: 14px;
      margin-bottom: 6px;
      font-weight: 500;
      color: var(--brand);
    }
    select, input[type=number], input[type=time], input[type=text] {
      width: 100%;
      padding: 8px 10px;
      border: 1px solid #ccc;
      border-radius: 8px;
      box-sizing: border-box;
      font-size: 14px;
    }
    fieldset {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 12px;
      margin: 0;
    }
    legend {
      font-weight: 600;
      color: var(--brand);
      padding: 0 8px;
    }
    .checkbox-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 6px 0;
      border-bottom: 1px solid #f0f0f0;
    }
    .qty {
      width: 80px;
    }
    button {
      background: var(--brand);
      color: white;
      border: none;
      padding: 10px 16px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 14px;
      transition: background 0.2s ease-in-out;
    }
    button:hover {
      background: var(--accent);
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 8px;
      text-align: center;
    }
    th {
      background: var(--brand);
      color: white;
    }
    tbody tr:nth-child(even) {
      background-color: #f3f7fb;
    }
    #afterHoursRow {
      margin-top: 10px;
      font-weight: 600;
      color: var(--accent);
    }
    #grandTotal {
      font-weight: 700;
      font-size: 18px;
      color: var(--brand);
      text-align: right;
      margin-top: 10px;
    }
    footer {
      text-align: center;
      font-size: 13px;
      color: var(--muted);
      margin-top: 24px;
      padding-top: 10px;
      border-top: 1px solid #ddd;
    }
    @media (max-width: 700px) {
      .grid { grid-template-columns: 1fr; }
      header { text-align: center; }
    }
  </style>
</head>
  <link rel="icon" href="favicon.ico" type="image/x-icon">
<body>
  <div class="wrapper">
    <header>
      <h1>Royal Birmingham Conservatoire — Multi-Venue Quote</h1>
      <div class="muted">Add multiple venues to generate a combined quote. All prices + VAT.</div>
    </header>

    <div class="card">
      <div class="grid">
        <div>
          <label for="venue">Venue / Space</label>
          <select id="venue">
            <option value="">— select venue —</option>
            <option value="Bradshaw">Bradshaw Hall</option>
            <option value="Recital">Recital Hall</option>
            <option value="Lab">The Lab</option>
            <option value="Jazz">Eastside Jazz Club</option>
            <option value="Organ">Organ Studio</option>
            <option value="WorkshopLarge">Workshop Space Large (workshop 1 - capacity 60/workshop 2 - capacity 60/workshop 3 - capacity 50)</option>
            <option value="WorkshopSmall">Workshop Space Small (workshop 4 - capacity 40/workshop 5 - capacity 30/workshop 6 - capacity 20)</option>
            <option value="DLHub">Distance Learning Hub</option>
            <option value="PracticeGrand2">Practice Room (2 grands)</option>
            <option value="PracticeGrand">Practice Room (grand)</option>
            <option value="PracticeUpright">Practice Room (upright)</option>
            <option value="Dressing">Additional Dressing Rooms</option>
          </select>
        </div>
        <div>
          <label for="hireType">Hire Type</label>
          <select id="hireType">
            <option value="standard">Standard Rate (includes FOH staff)</option>
            <option value="premium">Recording / Premium Workshop (dry hire)</option>
          </select>
        </div>
        <div>
          <label for="hours">Number of hours</label>
          <input id="hours" type="number" min="0" step="0.5" value="4" />
          <div class="muted">Minimum 4 hours for main venues (Bradshaw, Recital, Jazz, Organ, Lab).</div>
        </div>

        <div class="full">
          <fieldset>
            <legend><strong>Technical / Equipment</strong></legend>
            <div class="checkbox-row"><div>PA (per day)</div><div><input id="pa_qty" class="qty" type="number" min="0" value="0" /></div></div>
            <div class="checkbox-row"><div>Projector (per day)</div><div><input id="projector_qty" class="qty" type="number" min="0" value="0" /></div></div>
            <div class="checkbox-row"><div>Microphone (wired)</div><div><input id="mic_wired_qty" class="qty" type="number" min="0" value="0" /></div></div>
            <div class="checkbox-row"><div>Microphone (wireless)</div><div><input id="mic_wireless_qty" class="qty" type="number" min="0" value="0" /></div></div>
            <div class="checkbox-row"><div>Monitor</div><div><input id="monitor_qty" class="qty" type="number" min="0" value="0" /></div></div>
            <div class="checkbox-row"><div>Overhead audio recording</div><div><input id="overhead_qty" class="qty" type="number" min="0" value="0" /></div></div>
            <div class="checkbox-row"><div>Static video recording</div><div><input id="video_qty" class="qty" type="number" min="0" value="0" /></div></div>
            <div class="checkbox-row"><div>Laptop</div><div><input id="laptop_qty" class="qty" type="number" min="0" value="0" /></div></div>
            <div class="checkbox-row"><div>Grand Piano</div><div><input id="piano_qty" class="qty" type="number" min="0" value="0" /></div></div>
          </fieldset>
          <div class="muted" style="margin-top:6px;">Other instrument hire is available upon request, subject to availability.</div>
        </div>

        <div class="full">
          <fieldset>
            <legend><strong>After-hours Surcharge</strong></legend>
            <div class="muted">Select days and end time to calculate after-hours surcharge (£20/hr + VAT).</div>
            <div style="display:flex;flex-wrap:wrap;gap:10px;margin-top:6px;">
              <label><input type="checkbox" class="day" value="Mon"> Mon</label>
              <label><input type="checkbox" class="day" value="Tue"> Tue</label>
              <label><input type="checkbox" class="day" value="Wed"> Wed</label>
              <label><input type="checkbox" class="day" value="Thu"> Thu</label>
              <label><input type="checkbox" class="day" value="Fri"> Fri</label>
              <label><input type="checkbox" class="day" value="Sat"> Sat</label>
              <label><input type="checkbox" class="day" value="Sun"> Sun</label>
            </div>
            <div style="margin-top:8px;">
              <label for="endTime">Event end time</label>
              <input id="endTime" type="time" value="23:00" />
            </div>
          </fieldset>
        </div>

        <div class="full" style="margin-top:10px;">
          <button id="addBtn">Add to Order</button>
          <button id="emailBtn">Email Quote</button>
          <button id="downloadBtn">Download HTML</button>
        </div>
      </div>
    </div>

    <div class="card">
      <h3 style="margin-top:0;color:var(--brand);">Order Summary</h3>
      <table id="orderTable">
        <thead>
          <tr>
            <th>Venue</th><th>Hire Type</th><th>Hours</th><th>Base (£)</th><th>Equipment (£)</th><th>Subtotal (£)</th><th>VAT (£)</th><th>Total (£)</th><th>Remove</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
      <div id="afterHoursRow" style="display:none;">After-hours surcharge: £0.00</div>
      <div id="grandTotal">Grand Total: £0.00</div>
      <div class="muted" style="margin-top:6px;">Technician hours will be quoted separately based on the technical requirements of the event.</div>
      <div class="muted">For bookings that run past our regular opening hours, a surcharge of £20 per-hour +VAT applies. Please see our Technical Specification and Hire Charges document for more information.</div>
      <div class="muted">For booking & detailed technical quotes contact: conservatoireevents@bcu.ac.uk</div>
    </div>

    <footer>© Royal Birmingham Conservatoire — Venue Hire Quote Calculator</footer>
  </div>
  <script>
const venueRates = {
  "Bradshaw": 100,    // per hour, example rate
  "Recital": 90,
  "Lab": 70,
  "Jazz": 95,
  "Organ": 80,
  "WorkshopLarge": 60,
  "WorkshopSmall": 50,
  "DLHub": 55,
  "PracticeGrand2": 40,
  "PracticeGrand": 30,
  "PracticeUpright": 20,
  "Dressing": 25
};

const hireMultipliers = {
  "standard": 1,
  "premium": 1.2
};

const equipmentRates = {
  "pa_qty": 50,
  "projector_qty": 30,
  "mic_wired_qty": 10,
  "mic_wireless_qty": 20,
  "monitor_qty": 15,
  "overhead_qty": 25,
  "video_qty": 30,
  "laptop_qty": 40,
  "piano_qty": 100
};

const vatRate = 0.2;
const afterHoursRate = 20;

const addBtn = document.getElementById("addBtn");
const orderTableBody = document.querySelector("#orderTable tbody");
const grandTotalEl = document.getElementById("grandTotal");
const afterHoursRowEl = document.getElementById("afterHoursRow");

let orderRows = [];

function calculateAfterHours(hours, endTime, selectedDays) {
  if (!selectedDays.length) return 0;
  const endHour = parseInt(endTime.split(":")[0]);
  const afterHours = Math.max(0, endHour - 20); // after 8pm
  return afterHours * selectedDays.length * afterHoursRate;
}

function addToOrder() {
  const venue = document.getElementById("venue").value;
  const hireType = document.getElementById("hireType").value;
  const hours = parseFloat(document.getElementById("hours").value);

  if (!venue || !hours) {
    alert("Please select a venue and number of hours.");
    return;
  }

  // Base rate
  const baseRate = venueRates[venue] || 0;
  const baseCost = baseRate * hours * (hireMultipliers[hireType] || 1);

  // Equipment cost
  let equipmentCost = 0;
  Object.keys(equipmentRates).forEach(key => {
    const qty = parseInt(document.getElementById(key).value) || 0;
    equipmentCost += qty * equipmentRates[key];
  });

  const subtotal = baseCost + equipmentCost;
  const vat = subtotal * vatRate;
  const total = subtotal + vat;

  // After-hours
  const selectedDays = Array.from(document.querySelectorAll(".day:checked")).map(d => d.value);
  const endTime = document.getElementById("endTime").value;
  const afterHours = calculateAfterHours(hours, endTime, selectedDays);
  const afterHoursVAT = afterHours * vatRate;
  const afterHoursTotal = afterHours + afterHoursVAT;

  // Add row
  const row = {
    venue, hireType, hours, baseCost, equipmentCost, subtotal, vat, total
  };
  orderRows.push(row);
  renderTable();

  // Show after-hours surcharge if any
  if (afterHoursTotal > 0) {
    afterHoursRowEl.style.display = "block";
    afterHoursRowEl.textContent = `After-hours surcharge: £${afterHoursTotal.toFixed(2)}`;
  } else {
    afterHoursRowEl.style.display = "none";
  }
}

function renderTable() {
  orderTableBody.innerHTML = "";
  let grandTotal = 0;

  orderRows.forEach((row, index) => {
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td>${row.venue}</td>
      <td>${row.hireType}</td>
      <td>${row.hours}</td>
      <td>£${row.baseCost.toFixed(2)}</td>
      <td>£${row.equipmentCost.toFixed(2)}</td>
      <td>£${row.subtotal.toFixed(2)}</td>
      <td>£${row.vat.toFixed(2)}</td>
      <td>£${row.total.toFixed(2)}</td>
      <td><button onclick="removeRow(${index})">Remove</button></td>
    `;
    orderTableBody.appendChild(tr);
    grandTotal += row.total;
  });

  // Add after-hours if displayed
  if (afterHoursRowEl.style.display === "block") {
    const afterHoursText = afterHoursRowEl.textContent.match(/£([\d.]+)/);
    if (afterHoursText) grandTotal += parseFloat(afterHoursText[1]);
  }

  grandTotalEl.textContent = `Grand Total: £${grandTotal.toFixed(2)}`;
}

function removeRow(index) {
  orderRows.splice(index, 1);
  renderTable();
}

addBtn.addEventListener("click", addToOrder);
</script>
</body>
</html>
