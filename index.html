<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Royal Birmingham Conservatoire — Multi-Venue Quote Calculator</title>
<style>
:root{
  --brand:#002e5b;
  --muted:#6b6b6b;
  --bg:#fafafa;
  --card:#ffffff;
}
body{font-family:Arial,Helvetica,sans-serif;background:var(--bg);color:#222;margin:0;padding:20px;display:flex;justify-content:center;}
.wrapper{max-width:1000px;width:100%;}
header{display:flex;align-items:center;gap:16px;margin-bottom:18px;justify-content:space-between;flex-wrap:wrap;}
h1{font-size:20px;margin:0;color:var(--brand);}
nav{display:flex;gap:10px;align-items:center;}
nav button, nav a.button{background:var(--brand);color:white;border:none;padding:8px 12px;border-radius:6px;cursor:pointer;text-decoration:none;}
.card{background:var(--card);padding:18px;border-radius:10px;box-shadow:0 6px 18px rgba(8,24,40,0.06);margin-bottom:14px;}
.grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;}
label{display:block;font-size:13px;margin-bottom:6px;}
select,input[type=number]{width:100%;padding:8px;border:1px solid #ddd;border-radius:6px;box-sizing:border-box;}
.full{grid-column:1/-1;}
fieldset{border:1px solid #eee;padding:10px;border-radius:8px;margin:0;}
.checkbox-row{display:flex;align-items:center;justify-content:space-between;padding:6px 0;border-bottom:1px solid #fafafa;}
.qty{width:86px;}
table{width:100%;border-collapse:collapse;margin-top:10px;}
th, td{border:1px solid #ddd;padding:8px;text-align:center;}
th{background:var(--brand);color:white;}
#grandTotal, #staffGrandTotal{font-weight:700;font-size:18px;color:var(--brand);text-align:right;margin-top:10px;}
button.mainBtn{background:var(--brand);color:white;border:none;padding:10px 14px;border-radius:8px;cursor:pointer;margin-right:6px;}
.muted{color:var(--muted);font-size:13px;}
input[type=text]{width:100%;padding:6px;border:1px solid #ccc;border-radius:6px;box-sizing:border-box;}
.hidden{display:none;}

/* ===== Gallery styles ===== */
.gallery{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:12px;margin-bottom:20px;}
.panel{position:relative;cursor:pointer;border-radius:8px;overflow:hidden;box-shadow:0 3px 10px rgba(0,0,0,0.1);transition:transform 0.2s;}
.panel img{width:100%;height:120px;object-fit:cover;display:block;}
.panel .title{position:absolute;bottom:0;width:100%;background:rgba(0,46,91,0.8);color:white;text-align:center;padding:6px;font-size:14px;}
.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);justify-content:center;align-items:center;z-index:9999;}
.modal-content{background:white;max-width:800px;width:90%;padding:20px;border-radius:8px;position:relative;}
.modal-content img{width:100%;height:auto;border-radius:6px;cursor:pointer;}
.modal-content .desc{margin-top:10px;color:#222;font-size:14px;}
.modal-close{position:absolute;top:10px;right:10px;background:var(--brand);color:white;border:none;padding:6px 10px;border-radius:4px;cursor:pointer;}

@media (max-width:700px){.grid{grid-template-columns:1fr;}header{flex-direction:column;align-items:flex-start;}}
</style>
</head>
<body>
<div class="wrapper">

<header>
  <div>
    <h1>Royal Birmingham Conservatoire — Multi-Venue Quote</h1>
    <div class="muted">Add multiple venues to generate a combined quote. All prices + VAT.</div>
  </div>
  <nav>
    <button id="venueTab">Venue Quote</button>
    <button id="staffTab">Staffing Costs</button>
    <a href="#" class="button" id="clearSession" style="display:none;">Logout Staffing</a>
  </nav>
</header>

<!-- ===== Venue Gallery ===== -->
<div class="gallery" id="venueGallery">
  <div class="panel" data-venue="Bradshaw">
    <img src="https://img.bcu.ac.uk/_bcuimages/copyright-hufton-crow-24-131600593110714462.jpg" alt="Bradshaw Hall">
    <div class="title">Bradshaw Hall</div>
  </div>
  <div class="panel" data-venue="Recital">
    <img src="https://img.bcu.ac.uk/_bcuimages/tom-bird-birmingham-conservatoire-27-131600597991399988.jpg" alt="Recital Hall">
    <div class="title">Recital Hall</div>
  </div>
  <div class="panel" data-venue="Jazz">
    <img src="https://img.bcu.ac.uk/_bcuimages/tom-bird-birmingham-conservatoire-25-131600600782377259.jpg" alt="Eastside Jazz Club">
    <div class="title">Eastside Jazz Club</div>
  </div>
  <div class="panel" data-venue="Organ">
    <img src="https://img.bcu.ac.uk/_bcuimages/tom-bird-birmingham-conservatoire-8-131600601961613750.jpg" alt="Organ Studio">
    <div class="title">Organ Studio</div>
  </div>
  <div class="panel" data-venue="Lab">
    <img src="https://img.bcu.ac.uk/_bcuimages/copyright-hufton-crow-30-131600603623200315.jpg" alt="The Lab">
    <div class="title">The Lab</div>
  </div>
  <div class="panel" data-venue="Workshop">
    <img src="https://img.bcu.ac.uk/_bcuimages/copyright-hufton-crow-2-131600605710728764.jpg">
    <div class="title">Workshops / Performance Studios</div>
  </div>
</div>

<!-- ===== VENUE QUOTE SECTION ===== -->
<div id="venuePage">
<div class="card">
  <div class="grid">
    <!-- Booking times and venue selection -->
    <div class="full">
      <fieldset>
        <legend><strong>Booking Times & Event Day(s)</strong></legend>
        <div class="muted" style="margin-bottom:6px;">
          Please include your full booking time (get-in and get-out). Minimum 4-hour booking applies.<br>
          Regular hours: Mon–Fri 08:00–23:00, Sat–Sun 08:00–19:00.<br>
          After-hours surcharge: £20/hour + VAT applies outside these hours.
        </div>
        <div style="display:flex;gap:10px;margin-bottom:6px;">
          <div style="flex:1">
            <label for="startTime">Booking Start Time</label>
            <select id="startTime"></select>
          </div>
          <div style="flex:1">
            <label for="endTime">Booking End Time</label>
            <select id="endTime"></select>
          </div>
        </div>
        <div style="margin-bottom:6px;">
          <label><strong>Event Day(s)</strong></label>
          <div style="display:flex;flex-wrap:wrap;gap:10px;margin-top:4px;">
            <label><input type="checkbox" class="day" value="Mon"> Mon</label>
            <label><input type="checkbox" class="day" value="Tue"> Tue</label>
            <label><input type="checkbox" class="day" value="Wed"> Wed</label>
            <label><input type="checkbox" class="day" value="Thu"> Thu</label>
            <label><input type="checkbox" class="day" value="Fri"> Fri</label>
            <label><input type="checkbox" class="day" value="Sat"> Sat</label>
            <label><input type="checkbox" class="day" value="Sun"> Sun</label>
          </div>
        </div>
      </fieldset>
    </div>

    <div>
      <label for="venue">Venue / Space</label>
      <select id="venue">
        <option value="">— select venue —</option>
        <option value="Bradshaw">Bradshaw Hall</option>
        <option value="Recital">Recital Hall</option>
        <option value="Lab">The Lab</option>
        <option value="Jazz">Eastside Jazz Club</option>
        <option value="Organ">Organ Studio</option>
        <option value="WorkshopLarge">Workshop Space Large</option>
        <option value="WorkshopSmall">Workshop Space Small</option>
        <option value="DLHub">Distance Learning Hub</option>
        <option value="PracticeGrand2">Practice Room (2 grands)</option>
        <option value="PracticeGrand">Practice Room (grand)</option>
        <option value="PracticeUpright">Practice Room (upright)</option>
        <option value="Dressing">Additional Dressing Rooms</option>
      </select>
    </div>

    <div>
      <label for="hireType">Hire Type</label>
      <select id="hireType">
        <option value="standard">Standard Rate (includes FOH staff)</option>
        <option value="premium">Recording / Premium Workshop (dry hire)</option>
      </select>
    </div>

    <!-- Equipment -->
    <div class="full">
      <fieldset>
        <legend><strong>Technical / Equipment</strong></legend>
        <div class="muted" style="margin-bottom:6px;">Quantity</div>
        <div class="checkbox-row"><div>PA (per day)</div><div><input id="pa_qty" class="qty" type="number" min="0" value="0" /></div></div>
        <div class="checkbox-row"><div>Projector (per day)</div><div><input id="projector_qty" class="qty" type="number" min="0" value="0" /></div></div>
        <div class="checkbox-row"><div>Microphone (wired)</div><div><input id="mic_wired_qty" class="qty" type="number" min="0" value="0" /></div></div>
        <div class="checkbox-row"><div>Microphone (wireless)</div><div><input id="mic_wireless_qty" class="qty" type="number" min="0" value="0" /></div></div>
        <div class="checkbox-row"><div>Monitor</div><div><input id="monitor_qty" class="qty" type="number" min="0" value="0" /></div></div>
        <div class="checkbox-row"><div>Overhead audio recording</div><div><input id="overhead_qty" class="qty" type="number" min="0" value="0" /></div></div>
        <div class="checkbox-row"><div>Static video recording</div><div><input id="video_qty" class="qty" type="number" min="0" value="0" /></div></div>
        <div class="checkbox-row"><div>Laptop</div><div><input id="laptop_qty" class="qty" type="number" min="0" value="0" /></div></div>
        <div class="checkbox-row"><div>Grand Piano</div><div><input id="piano_qty" class="qty" type="number" min="0" value="0" /></div></div>
        <div class="muted" style="margin-top:6px;">Other instrument hire is available upon request, subject to availability.</div>
      </fieldset>
    </div>

    <div class="full" style="margin-top:10px;">
      <button id="addBtn">Add to Quote</button>
      <button id="emailBtn">Email Quote</button>
      <button id="downloadBtn">Download HTML</button>
    </div>
  </div>
</div>

<!-- Quote Summary -->
<div class="card">
<h3 style="margin-top:0">Quote Summary</h3>
<table id="orderTable">
<thead>
<tr>
<th>Venue</th><th>Hire Type</th><th>Hours</th><th>Base (£)</th><th>Equipment (£)</th><th>Subtotal (£)</th><th>VAT (£)</th><th>Total (£)</th><th>After-Hours (£)</th><th>Remove</th>
</tr>
</thead>
<tbody></tbody>
</table>
<div id="grandTotal">Grand Total: £0.00</div>
<div class="muted" style="margin-top:6px;">Technician hours will be quoted separately based on the technical requirements of the event.</div>
<div class="muted" style="margin-top:6px;">After-hours surcharge: £20/hour + VAT applies outside regular opening hours.</div>
<div class="muted">For booking & detailed technical quotes contact: conservatoireevents@bcu.ac.uk</div>
<div class="muted" style="margin-top:8px;"><strong>Disclaimer:</strong> Quote is for reference purposes only. All costs are subject to review.</div>
</div>

<!-- STAFF PAGE -->
<div id="staffPage" class="hidden">
  <div class="card">
    <h3 style="margin-top:0">Staffing Costs</h3>
    <div class="muted" style="margin-bottom:10px;">Password protected. Enter password when switching to this tab. VAT (20%) is added to the grand total.</div>
    <div class="grid" style="margin-bottom:10px;">
      <div class="full">
        <table id="staffTable">
          <thead>
            <tr>
              <th>Role</th>
              <th>Rate (£/hr)</th>
              <th>Quantity</th>
              <th>Hours</th>
              <th>Total (£)</th>
              <th>Remove</th>
            </tr>
          </thead>
          <tbody id="staffBody"></tbody>
        </table>
      </div>
      <div class="full" style="text-align:left;">
        <button id="addOtherBtn">Add "Other" Role</button>
      </div>
    </div>
    <div id="staffGrandTotal">Grand Total (incl. VAT): £0.00</div>
    <div class="muted" style="margin-top:6px;">Tip: set quantity and hours for each role to calculate total staffing cost (VAT included).</div>
  </div>
</div>

<!-- ===== Modal for gallery ===== -->
<div class="modal" id="venueModal">
  <div class="modal-content">
    <button class="modal-close">Close</button>
    <img src="" alt="Venue Image" id="modalImg">
    <div class="desc" id="modalDesc"></div>
  </div>
</div>

<script>
// ========================= Navigation & Password
const venuePage = document.getElementById('venuePage');
const staffPage = document.getElementById('staffPage');
const venueTab = document.getElementById('venueTab');
const staffTab = document.getElementById('staffTab');
const clearSession = document.getElementById('clearSession');
const STAFF_PASSWORD = 'rbcstaffcosts';

venueTab.onclick = () => {
  venuePage.classList.remove('hidden');
  staffPage.classList.add('hidden');
};
staffTab.onclick = () => {
  if(sessionStorage.getItem('staffAccess') === STAFF_PASSWORD){
    venuePage.classList.add('hidden');
    staffPage.classList.remove('hidden');
    clearSession.style.display = 'inline-block';
    return;
  }
  const pass = prompt('Enter password to access staffing calculator:');
  if(pass === STAFF_PASSWORD){
    sessionStorage.setItem('staffAccess', STAFF_PASSWORD);
    venuePage.classList.add('hidden');
    staffPage.classList.remove('hidden');
    clearSession.style.display = 'inline-block';
  }else{ alert('Incorrect password.'); }
};
clearSession.onclick = (e)=>{
  e.preventDefault();
  sessionStorage.removeItem('staffAccess');
  clearSession.style.display = 'none';
  venuePage.classList.remove('hidden');
  staffPage.classList.add('hidden');
  alert('Staffing access cleared.');
};

// ========================= Gallery Modal
const venueData = {
  Bradshaw:{desc:"The Bradshaw Hall has been acoustically modelled to optimise the experience of performers and to ensure the best auditory experience from every seat. From the soft pallets of the colour scheme to state-of-the-art performance lighting and technical capabilities, each aspect of the hall has been expertly designed to provide an inspiring backdrop for the performances and other activity being presented there. The hall has a raised platform stage with three retractable risers and a stage extension, large enough for a full symphony orchestra. Audience seating graduates across a gentle rake with further seating provided on a small balcony above the back section of the hall. The hall is serviced by an extensive back-of house area with soloist and green rooms and access to our spacious atrium and foyer, and our range of performance studios and function rooms when the hall is booked as part of a larger event.", images:["https://www.tagvenue.com/resize/98/a1/widen-1680-noupsize;68138-bradshaw-hall-room-enhanced-v1-3027435.jpg","http://www.bcu.ac.uk/mediaitem/royal-birmingham-conservatoire-symphony-orchestra-and-chorus-131855489657224296.jpg?quality=90","https://bcuassets.blob.core.windows.net/img/the-bradshaw-hall-131735296676445133.jpg","https://cphfcrflaa.cloudimg.io/_bcuimages/04-07-2024-folk-ensemble-web-133765767100637752.jpg"]},
  Recital:{desc:"The intimate Recital Hall has a variable acoustic and is a flexible space with a floor-level stage area. A bleacher seating rake of 146 capacity can be extended for concert set-up, or fully retracted underneath a small technical balcony for other seating and event set-ups including cabaret and theatre style. As with our larger Bradshaw Hall, attention has been paid to every detail in the design of the hall to optimise the experience of both audiences and performers – from the acoustics to the colour scheme of the interior fit-out and from performance lighting to technical capabilities.", images:["https://azure.wgp-cdn.co.uk/app-pianist/posts/Royal-Birmingham-Conservatoire_Charcoalblue_credit-Hufton-and-Crow_lowres-023.jpg?&width=1200&height=630&mode=crop","https://www.association-of-noise-consultants.co.uk/wp-content/uploads/2018/08/RBC-Recital-Hall-Steinway-Piano-min.jpg","https://www.bof.co.uk/assets/images/projects/royal-birmingham-conservatoire/small-4.png"]},
  Jazz:{desc:"Eastside Jazz Club offers a modern space for jazz concerts and events.", images:["https://via.placeholder.com/800x500?text=Jazz+1","https://via.placeholder.com/800x500?text=Jazz+2"]},
  Organ:{desc:"Organ Studio is perfect for organ rehearsals and recordings.", images:["https://via.placeholder.com/800x500?text=Organ+1","https://via.placeholder.com/800x500?text=Organ+2"]},
  Lab:{desc:"The Lab is designed for experimental and electronic music projects.", images:["https://via.placeholder.com/800x500?text=Lab+1","https://via.placeholder.com/800x500?text=Lab+2"]},
  Workshop:{desc:"Workshop / Performance Studios for practice, small ensemble work, and classes.", images:["https://via.placeholder.com/800x500?text=Workshop+1","https://via.placeholder.com/800x500?text=Workshop+2"]}
};
const panels = document.querySelectorAll(".panel");
const modal = document.getElementById("venueModal");
const modalImg = document.getElementById("modalImg");
const modalDesc = document.getElementById("modalDesc");
let currentImages = [], currentIndex = 0;
panels.forEach(p=>{
  p.onclick = ()=>{
    const venue = p.dataset.venue;
    currentImages = venueData[venue].images;
    currentIndex = 0;
    modalImg.src = currentImages[currentIndex];
    modalDesc.textContent = venueData[venue].desc;
    modal.style.display = 'flex';
  };
});
document.querySelector(".modal-close").onclick = ()=>{ modal.style.display='none'; };
modal.onclick = (e)=>{ if(e.target===modal) modal.style.display='none'; };
modalImg.onclick = ()=>{ currentIndex=(currentIndex+1)%currentImages.length; modalImg.src=currentImages[currentIndex]; };

// ========================= Fill Time Selects
const startTime = document.getElementById('startTime'), endTime=document.getElementById('endTime');
for(let h=0;h<24;h++){
  for(let m=0;m<60;m+=30){
    const val = (h<10?'0':'')+h+':'+(m<10?'0':'')+m;
    const opt1 = document.createElement('option'); opt1.value=val; opt1.textContent=val; startTime.appendChild(opt1);
    const opt2 = document.createElement('option'); opt2.value=val; opt2.textContent=val; endTime.appendChild(opt2);
  }
}

// ========================= Quote Calculator
const addBtn = document.getElementById('addBtn');
const orderTable = document.querySelector('#orderTable tbody');
const grandTotalEl = document.getElementById('grandTotal');

const equipmentPrices = {pa:50, projector:20, mic_wired:5, mic_wireless:15, monitor:10, overhead:25, video:40, laptop:15, piano:150};

addBtn.onclick = ()=>{
  const venue=document.getElementById('venue').value;
  if(!venue){ alert('Select a venue'); return; }
  const hireType=document.getElementById('hireType').value;
  const start=startTime.value,end=endTime.value;
  if(!start||!end){ alert('Select start and end times'); return; }
  const sH=parseInt(start.split(':')[0]), eH=parseInt(end.split(':')[0]);
  let hours=eH-sH; if(hours<=0)hours+=24;

  // Equipment calculation
  const eqTotal = Object.keys(equipmentPrices).reduce((sum,key)=>{
    const val = parseInt(document.getElementById(key+'_qty')?.value||0);
    return sum + val*equipmentPrices[key];
  },0);

  const basePrice = 100; // placeholder, could be dynamic per venue
  const subtotal = basePrice + eqTotal;
  const vat = subtotal*0.2;
  const afterHours = hours>15? (hours-15)*20*1.2 :0; // simplified
  const total = subtotal+vat+afterHours;

  const tr = document.createElement('tr');
  tr.innerHTML=`<td>${venue}</td><td>${hireType}</td><td>${hours}</td><td>£${basePrice.toFixed(2)}</td><td>£${eqTotal.toFixed(2)}</td><td>£${subtotal.toFixed(2)}</td><td>£${vat.toFixed(2)}</td><td>£${total.toFixed(2)}</td><td>£${afterHours.toFixed(2)}</td><td><button class="rmBtn">Remove</button></td>`;
  orderTable.appendChild(tr);
  updateGrandTotal();
  tr.querySelector('.rmBtn').onclick=()=>{tr.remove();updateGrandTotal();}
};

function updateGrandTotal(){
  let sum=0;
  document.querySelectorAll('#orderTable tbody tr').forEach(r=>{
    sum+=parseFloat(r.children[7].textContent.replace('£',''))||0;
  });
  grandTotalEl.textContent='Grand Total: £'+sum.toFixed(2);
}

// ========================= Staffing Costs
const staffBody=document.getElementById('staffBody');
const staffGrandTotal=document.getElementById('staffGrandTotal');
const addOtherBtn=document.getElementById('addOtherBtn');

function addStaffRow(role='Other',rate=0,qty=1,hrs=1){
  const tr=document.createElement('tr');
  tr.innerHTML=`<td><input type="text" value="${role}" /></td>
  <td><input type="number" value="${rate}" min="0" /></td>
  <td><input type="number" value="${qty}" min="1" /></td>
  <td><input type="number" value="${hrs}" min="1" /></td>
  <td class="total">£0.00</td>
  <td><button class="rmBtn">Remove</button></td>`;
  staffBody.appendChild(tr);
  updateStaffTotal();
  tr.querySelectorAll('input').forEach(i=>i.oninput=updateStaffTotal);
  tr.querySelector('.rmBtn').onclick=()=>{tr.remove();updateStaffTotal();}
}

addOtherBtn.onclick=()=>addStaffRow();

function updateStaffTotal(){
  let sum=0;
  staffBody.querySelectorAll('tr').forEach(tr=>{
    const rate=parseFloat(tr.children[1].children[0].value)||0;
    const qty=parseFloat(tr.children[2].children[0].value)||0;
    const hrs=parseFloat(tr.children[3].children[0].value)||0;
    const total=rate*qty*hrs;
    tr.children[4].textContent='£'+total.toFixed(2);
    sum+=total;
  });
  const vat=sum*0.2;
  staffGrandTotal.textContent='Grand Total (incl. VAT): £'+(sum+vat).toFixed(2);
}
</script>

</div>
</body>
</html>
